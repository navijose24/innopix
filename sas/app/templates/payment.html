<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Page</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap');

:root{ --bg-0:#070b10; --bg-1:#0b1118; --panel:rgba(10,16,24,.7); --text:#e8faff; --muted:#9fb3c3; --accent:#00e5ff; --accent-2:#39ff14; --border:rgba(0,229,255,.2) }

body{
    font-family:'Orbitron', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    margin:0; padding:24px; min-height:100vh; display:flex; align-items:center; justify-content:center; color:var(--text);
    background: radial-gradient(1200px 800px at 20% 10%, rgba(0,229,255,.06), transparent 55%),
                radial-gradient(1200px 900px at 80% 90%, rgba(57,255,20,.05), transparent 55%),
                linear-gradient(180deg, var(--bg-0), var(--bg-1));
    background-attachment: fixed;
}

body.payment{ background:inherit }

.container{
    display:flex; gap:0; width:min(100%, 1040px); border:1px solid var(--border); background:var(--panel);
    box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.02);
    border-radius:16px; overflow:hidden; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    animation:cardFade .6s ease both;
}

.invoice-details,.payment-details{ flex:1; padding:24px 24px 28px }

.invoice-details{ border-right:1px solid var(--border) }

h1{
    text-align:center; margin:0 0 18px; color:var(--text); font-size:26px; letter-spacing:.06em;
    text-shadow:0 0 14px rgba(0,229,255,.35);
}

h2{ color:var(--accent); font-size:16px; margin:0 0 12px; letter-spacing:.12em }

.invoice-info p{ margin:10px 0; color:var(--muted) }

.items table{ width:100%; border-collapse:collapse; margin-top:10px; font-size:14px }

.items th,.items td{ border:1px solid var(--border); padding:10px 12px; text-align:left }
.items th{ background:rgba(0,229,255,.06); color:var(--text) }

.payment-method{ margin-bottom:22px; background:rgba(0,0,0,.15); border:1px solid var(--border); padding:16px; border-radius:12px }

.form-group{ margin-bottom:15px }

label{ display:block; margin-bottom:6px; font-weight:600; color:var(--text); letter-spacing:.08em }

input, select{
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; box-sizing:border-box;
    background:rgba(6,12,18,.7); color:var(--text); font-family:'Orbitron', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    outline:none; transition: box-shadow .2s ease, transform .08s ease, border-color .2s ease;
}
input::placeholder{ color:#6f8596 }
input:focus, select:focus{ box-shadow:0 0 0 3px rgba(0,229,255,.25), 0 0 18px rgba(0,229,255,.2); border-color:var(--accent) }

button{
    width:100%; padding:12px 14px; background:linear-gradient(90deg, rgba(57,255,20,.12), rgba(0,229,255,.12)); color:var(--text);
    border:1px solid var(--accent); border-radius:12px; cursor:pointer; font-size:16px; letter-spacing:.12em;
    transition: background-color .2s ease, box-shadow .2s ease, transform .15s ease;
}
button:hover{ box-shadow:0 0 16px rgba(0,229,255,.35), 0 0 28px rgba(57,255,20,.25); transform:translateY(-1px) scale(1.02) }
button:active{ transform:translateY(0) scale(.99) }

.error-message{ color:#ff6b6b; text-align:center; margin-top:10px; display:none; font-weight:700 }

.pay-btn{ display:inline-block; padding:12px 16px; background:linear-gradient(90deg, rgba(57,255,20,.18), rgba(0,229,255,.18)); color:var(--text);
    text-align:center; font-size:16px; border:1px solid var(--accent-2); border-radius:12px; text-decoration:none; cursor:pointer;
    transition: box-shadow .2s ease, transform .15s ease, background .2s ease;
}
.pay-btn:hover{ background:linear-gradient(90deg, rgba(57,255,20,.26), rgba(0,229,255,.26)); box-shadow:0 0 14px rgba(57,255,20,.55), 0 0 24px rgba(0,229,255,.35); transform:translateY(-1px) scale(1.03) }

@keyframes cardFade{ from{ opacity:0; transform: translateY(12px) } to{ opacity:1; transform:none } }

@media (max-width: 900px){
    .container{ flex-direction:column; width:min(100%, 680px) }
    .invoice-details{ border-right:none; border-bottom:1px solid var(--border) }
}
    </style>
    
</head>
<body>
    <div class="container">
        <!-- Invoice Details (Left Side) -->
        <div class="invoice-details">
            <h1>Invoice Details</h1>
            <div class="invoice-info">
                <p><strong>Invoice Number:</strong> INV-123456</p>
                <p><strong>Date:</strong> October 10, 2023</p>
                <p><strong>Due Date:</strong> October 20, 2023</p>
                <p><strong>Amount Due:</strong> ₹500.00</p>
            </div>
            <div class="items">
                <h2>Items</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Quantity</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- <tr>
                            <td>violations</td>
                            <td>2</td>
                            <td>₹500.00</td>
                        </tr> -->
                        <tr>
                            <td>violations</td>
                            <td>1</td>
                            <td>₹500.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Payment Details (Right Side) -->
        <div class="payment-details">
            <h1>Payment Details</h1>
            <form id="payment-form">
                <!-- Card Payment Section -->
                <div class="payment-method">
                    <h2>Card Payment</h2>
                    <div class="form-group">
                        <label for="card-number">Card Number</label>
                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required>
                    </div>
                    <div class="form-group">
                        <label for="expiry-date">Expiry Date</label>
                        <input type="text" id="expiry-date" placeholder="MM/YY" required>
                    </div>
                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" placeholder="123" required>
                    </div>
                    <div class="form-group">
                        <label for="cardholder-name">Cardholder Name</label>
                        <input type="text" id="cardholder-name" placeholder="John Doe" required>
                    </div>
                    <button type="button" id="card-pay-button">Pay with Card</button>
                </div>

                <!-- UPI Payment Section -->
                <div class="payment-method">
                    <h2>UPI Payment</h2>
                    <div class="form-group">
                        <label for="upi-id">UPI ID</label>
                        <input type="text" id="upi-id" placeholder="yourname@upi" required>
                    </div>
                   <!-- <button type="button" id="upi-pay-button">Pay with UPI</button>-->
                   <a href="{% url 'qr_page' %}?upi={{ upi_id }}" class="pay-btn">Pay with UPI</a>
                </div>

                <!-- Bank Payment Section -->
                <div class="payment-method">
                    <h2>Bank Transfer</h2>
                    <div class="form-group">
                        <label for="bank-select">Select Bank</label>
                        <select id="bank-select" required>
                            <option value="">Choose a bank</option>
                            <option value="SBI">State Bank of India</option>
                            <option value="HDFC">HDFC Bank</option>
                            <option value="ICICI">ICICI Bank</option>
                            <option value="Axis">Axis Bank</option>
                        </select>
                    </div>
                    <button type="button" id="bank-pay-button">Pay via Bank</button>
                </div>
            </form>
            <p id="error-message" class="error-message"></p>
        </div>
    </div>

    <script >
        // Card Payment
document.getElementById('card-pay-button').addEventListener('click', function () {
    const cardNumber = document.getElementById('card-number').value.trim();
    const expiryDate = document.getElementById('expiry-date').value.trim();
    const cvv = document.getElementById('cvv').value.trim();
    const cardholderName = document.getElementById('cardholder-name').value.trim();

    if (!cardNumber || !expiryDate || !cvv || !cardholderName) {
        showError('All fields are required for card payment.');
        return;
    }

    if (!/^\d{16}$/.test(cardNumber.replace(/\s/g, ''))) {
        showError('Invalid card number.');
        return;
    }

    if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
        showError('Invalid expiry date. Use MM/YY format.');
        return;
    }

    if (!/^\d{3}$/.test(cvv)) {
        showError('Invalid CVV.');
        return;
    }

    showError('');
    alert('Card payment successful!');
});

// UPI Payment
document.getElementById('upi-pay-button').addEventListener('click', function () {
    const upiId = document.getElementById('upi-id').value.trim();

    if (!upiId) {
        showError('UPI ID is required.');
        return;
    }

    if (!/^[\w.-]+@[\w.-]+$/.test(upiId)) {
        showError('Invalid UPI ID.');
        return;
    }

    showError('');
    alert(`UPI payment initiated for ${upiId}`);
    window.location.href = `qr.html?upi=${encodeURIComponent(upiId)}`;
});

// Bank Payment
document.getElementById('bank-pay-button').addEventListener('click', function () {
    const bankSelect = document.getElementById('bank-select').value;

    if (!bankSelect) {
        showError('Please select a bank.');
        return;
    }

    showError('');
    alert(`Bank payment initiated for ${bankSelect}`);
});

// Show error message
function showError(message) {
    const errorElement = document.getElementById('error-message');
    errorElement.textContent = message;
    errorElement.style.display = message ? 'block' : 'none';
}
    </script>
</body>
</html>
